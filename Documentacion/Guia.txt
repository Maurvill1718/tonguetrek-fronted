Guía de Demostración (Frontend)

Datos de prueba (opcionales):
Correo: mauriciovill018@gmail.com
Documento: 1030405060
Contraseña: DemoTest123!

Arranque rápido
- Backend: npm run dev (http://localhost:4545)
- Frontend: cd frontend && npm run dev (http://localhost:5173)
- Frontend usa VITE_API_BASE_URL del archivo frontend/.env

Flujo con el Frontend
1) Registro
   - Ir a Inicio -> “Comenzar ahora” o a /registro
   - Completar t1 (documento), t2 (nombre), t3 (correo), t4 (teléfono), t5 (contraseña)
   - Se envía correo de bienvenida

2) Inicio de sesión
   - Ir a /login
   - Al entrar, se guarda el token y se redirige a Perfil; en Home verás “Hola, {nombre}”

3) Perfil (datos básicos)
   - Actualizar nombre y teléfono en la tarjeta “Información de cuenta”
   - Cambios impactan el saludo del Home de inmediato

4) Preguntas de seguridad (configurar/editar)
   - En Perfil, “Preguntas de seguridad” -> Configurar o Editar
   - Campos: dirección, fecha de expedición (YYYY-MM-DD), 3 preguntas y sus respuestas
   - Si ya estaban configuradas, se exige la contraseña actual para guardar

5) Cerrar sesión
   - Botón “Cerrar sesión” en Perfil
   - Revoca el token activo en el servidor

6) Eliminación de cuenta (segura)
   - En Perfil, “Eliminar cuenta”
   - Se solicitará la contraseña; si no la recuerdas, puedes validar con preguntas de seguridad (una respuesta correcta + fecha)
   - Al eliminar, se desactiva la cuenta y se revocan tokens

7) Recuperación de cuenta (olvidé mi contraseña)
   - Ir a “Recuperar” (Inicio -> botón Recuperar) o /recuperar
   - Paso A: ingresar documento -> recibes pregunta y sessionToken
   - Paso B: responder pregunta + fecha; si aciertas, obtienes resetToken
   - Paso C: ir a /recuperar/reset y establecer nueva contraseña

Notas de seguridad
- Login genera token JWT (tipo acceso) y se guarda en BD; middleware valida firma y estado en BD
- Intentos fallidos de login y de preguntas incrementan contadores y pueden bloquear la cuenta
- Editar preguntas requiere contraseña si ya estaban configuradas
- Eliminar cuenta exige contraseña o validación por preguntas

Referencia de endpoints (para pruebas con Postman)
- POST /api/cliente (registro)
- POST /api/login (login)
- GET /api/perfil/estado (estado de preguntas)
- POST /api/perfil (crear/editar preguntas; para editar incluye contrasena)
- PUT /api/perfil (actualizar nombre y teléfono)
- POST /api/cerrar-sesion (revocar token actual)
- DELETE /api/perfil (eliminar cuenta con contrasena o viaPreguntas + sessionToken + respuesta + fechaexpedicion)
- POST /api/recuperar/iniciar (iniciar preguntas)
- POST /api/recuperar/validar-pregunta (validar)
- POST /api/recuperar/restablecer (resetear contraseña con resetToken)